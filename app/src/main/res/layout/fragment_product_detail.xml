<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto" android:layout_width="match_parent" android:layout_height="match_parent" android:background="@color/gray_50">

    <com.google.android.material.appbar.AppBarLayout android:id="@+id/appBar" android:layout_width="match_parent" android:layout_height="wrap_content" android:background="@color/white" android:theme="@style/ThemeOverlay.AppCompat.Light">

        <com.google.android.material.appbar.CollapsingToolbarLayout android:layout_width="match_parent" android:layout_height="320dp" app:contentScrim="@color/white" app:layout_scrollFlags="scroll|exitUntilCollapsed" app:titleEnabled="false">

            <ImageView android:id="@+id/ivProduct" android:layout_width="match_parent" android:layout_height="match_parent" android:scaleType="centerInside" android:padding="48dp" android:src="@android:drawable/ic_menu_gallery" app:layout_collapseMode="parallax" />

            <androidx.appcompat.widget.Toolbar android:id="@+id/toolbar" android:layout_width="match_parent" android:layout_height="?attr/actionBarSize" app:layout_collapseMode="pin" app:navigationIcon="@drawable/ic_arrow_back" app:title="Détails" />

            <ImageView android:layout_width="40dp" android:layout_height="40dp" android:src="@drawable/ic_heart" app:tint="@color/gray_400" android:layout_gravity="end|top" android:layout_margin="16dp" android:padding="8dp" android:background="@drawable/shape_circle_white" android:elevation="2dp"/>

        </com.google.android.material.appbar.CollapsingToolbarLayout>

    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView android:layout_width="match_parent" android:layout_height="match_parent" android:paddingBottom="100dp" app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="vertical" android:padding="24dp">

            <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="horizontal" android:gravity="center_vertical" android:layout_marginBottom="8dp">

                <TextView android:id="@+id/tvName" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_weight="1" android:text="Alienware m15" android:textSize="24sp" android:fontFamily="@font/poppins_bold" android:textColor="@color/black" />

                <TextView android:id="@+id/tvPrice" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="$1674.00" android:textSize="22sp" android:fontFamily="@font/poppins_bold" android:textColor="@color/primary" />
            </LinearLayout>

            <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="horizontal" android:gravity="center_vertical" android:layout_marginBottom="24dp">

                <RatingBar android:id="@+id/ratingBar" style="?android:attr/ratingBarStyleSmall" android:layout_width="wrap_content" android:layout_height="wrap_content" android:numStars="5" android:rating="4.5" android:theme="@style/Widget.AppCompat.RatingBar.Small" android:progressTint="@color/warning"/>

                <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="125+ Avis" android:layout_marginStart="8dp" android:fontFamily="@font/inter_regular" android:textSize="12sp" android:textColor="@color/gray_500"/>
            </LinearLayout>

            <TextView android:id="@+id/tvStockStatus" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="En Stock" android:textSize="14sp" android:fontFamily="@font/inter_regular" android:layout_marginBottom="24dp" />

            <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Quantité" android:textSize="16sp" android:fontFamily="@font/poppins_semibold" android:textColor="@color/black" android:layout_marginBottom="8dp" />

            <LinearLayout android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="horizontal" android:gravity="center_vertical" android:background="@drawable/shape_pill" android:backgroundTint="@color/gray_100" android:paddingHorizontal="12dp" android:paddingVertical="8dp" android:layout_marginBottom="32dp">
                <ImageView android:id="@+id/btnMinus" android:layout_width="24dp" android:layout_height="24dp" android:src="@drawable/ic_minus" app:tint="@color/primary"/>
                <TextView android:id="@+id/tvQuantity" android:layout_width="40dp" android:layout_height="wrap_content" android:text="1" android:gravity="center" android:textSize="18sp" android:fontFamily="@font/poppins_bold" android:textColor="@color/black"/>
                <ImageView android:id="@+id/btnPlus" android:layout_width="24dp" android:layout_height="24dp" android:src="@android:drawable/ic_input_add" app:tint="@color/primary"/>
            </LinearLayout>

            <TextView android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Description" android:textSize="18sp" android:fontFamily="@font/poppins_semibold" android:textColor="@color/black" android:layout_marginBottom="8dp" />

            <TextView android:id="@+id/tvDescription" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Experience a 165Hz display with Low Blue Light Technology. Featuring Alienware Cryo-Tech..." android:textSize="14sp" android:fontFamily="@font/inter_regular" android:textColor="@color/gray_600" android:lineSpacingMultiplier="1.5" android:layout_marginBottom="32dp" />

            <!-- Specs Grid (Optional, simple) -->
            <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:orientation="horizontal" android:layout_marginBottom="32dp">
                <!-- Can add spec items here later, keeping it simple for now as requested -->
            </LinearLayout>

            <com.google.android.material.button.MaterialButton android:id="@+id/btnAskQuestion" style="@style/Widget.MaterialComponents.Button.TextButton" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="Poser une question" android:textColor="@color/primary" android:fontFamily="@font/inter_regular" android:layout_marginBottom="32dp"/>

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>

    <!-- Bottom Action Bar (Floating Pill Button) -->
    <LinearLayout android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_gravity="bottom" android:background="#00FFFFFF" android:padding="24dp">

        <com.google.android.material.button.MaterialButton android:id="@+id/btnAddToCart" android:layout_width="match_parent" android:layout_height="60dp" android:text="Acheter Maintenant" android:textSize="16sp" android:fontFamily="@font/poppins_bold" android:textColor="@color/white" android:background="@drawable/gradient_cta" app:backgroundTint="@null" android:elevation="8dp"/>
    </LinearLayout>

</androidx.coordinatorlayout.widget.CoordinatorLayout>
